@using ZooIS.Client.Services.AuthService;
@inject NavigationManager _navigationManager
@inject ILocalStorageService _localStorage
@inject IAuthService _authService
@inject AuthenticationStateProvider _authStateProvider

<AuthorizeView>
    <Authorized>
        <MudButton OnClick="Logout" Variant="Variant.Text" Color="Color.Inherit">Atsijungti</MudButton>
    </Authorized>
    <NotAuthorized>
        <MudButton Href="login" Variant="Variant.Text" Color="Color.Inherit">Prisijungti</MudButton>
    </NotAuthorized>
</AuthorizeView>

@code {
    // Potencialiai nebereikia, nepamirst istrint
    //void Login()
    //{
    //    _navigationManager.NavigateTo("login");
    //}

    async Task Logout()
    {
        await _authService.Logout();
        //await _authStateProvider.GetAuthenticationStateAsync();  // pasikeitimui "onLogout" nebereikia lyg ir
        _navigationManager.NavigateTo("/");
    }
}